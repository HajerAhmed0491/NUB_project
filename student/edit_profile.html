<!DOCTYPE html>
<html dir="rtl">

<head>
    <meta name="language" content="ar">
    <meta http-equiv="x-ua-compatible" content="text/html" charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="The Description of This Page Goes Right Here and its !Important" />
    <meta name="keywords" content="keywords,goes,here,for,this,web,site,its,!important,and,keep,it,dynamic" />
    <title>LMS</title>
    <!-- Other Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="copyright" content="Sitename Goes Here">
    <link rel="shortcut icon" type="image/png" href="../img/fevicon.png">
    <!-- Fetching Fonts for Speed -->
    <link rel="preload" href="../fonts/tornado-icons.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="../fonts/DINNextLTW23-Bold.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="../fonts/DINNextLTW23-Medium.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="../fonts/DINNextLTW23-Regular.woff" as="font" type="font/woff" crossorigin>
    <!-- CSS Files -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/bootstrap-table.min.css">
    <link rel="stylesheet" href="../css/tornado-icons.css" media="all">
    <link id="myLink" rel="stylesheet" href="" media="all">
    <link rel="stylesheet" href="../css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Font Link for Icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
        integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="../css/circle.css">
    <script src="../js/login.js"></script>

</head>

<body>
    <!-- Site Wraper -->
    <div class="site-wraper">
        <!-- Header Side -->
        <header class="header-side">
            <!-- Logo -->
            <a href="index.html" class="logo"><img src="../img/logo-side.png" alt="">
                <img style="border-radius: 50%;width: 50%;margin: -60% 25% 25% 25%;" src="../img/profile.png"
                    id="stuImg" alt="">
            </a>
            <h1>Intelligent learning management system</h1>
            <!-- Menu -->
            <ul>
                <li><a href="home.html" class="ti-home" data-i18n="home">الصفحة الرئيسية</a></li>
                <li><a href="https://outlook.office365.com/mail/" target="_blank" class="ti-email-new-letter"
                        data-i18n="mail">صندوق البريد</a>
                </li>
                <li><a href="#" class="ti-microsoft" data-i18n="Materials">المواد</a>
                    <ul>
                        <li><a href="student-lessons.html">pattern recognition</a></li>
                    </ul>
                </li>
                <li><a href="student-class-table.html" class="ti-table" data-i18n="table">الجدول</a></li>
                <li><a href="certifcate.html" class="ti-award" data-i18n="Results">النتائج</a></li>
                <li><a href="#" class="ti-chart-bar" data-i18n="reports">تقارير</a>
                    <ul>
                        <li><a href="#">تقرير 1</a></li>
                        <li><a href="#">تقرير 2</a></li>
                    </ul>
                </li>
                <!-- <li><a href="online-lecture.html" class="ti-chatboxes">حلقات النقاش</a></li> -->
                <li><a href="#" class="ti-user-cog" data-i18n="editInfo">تعديل بياناتي</a></li>
                <li><a href="/login.html" class="ti-power" data-i18n="logout">تسجيل الخروج</a></li>
            </ul>
        </header>
        <!-- Content Side -->
        <div class="content-side">
            <!-- Secondary Header -->
            <div class="secondary-header">
                <!-- Side Toggle -->
                <a href="#" class="ti-view-quilt side-toggle"></a>
                <!-- Action Buttons -->
                <div class="action-btns">
                    <!-- <a href="#" class="icon-btn ti-chatboxes tooltip-bottom"></a> -->
                    <a href="#" class="language-btn icon-btn ti-earth tooltip-bottom" id="languageLink"></a>
                    <a href="#" class="menu-btn ti-menu-round icon-btn hidden-l-up" data-id="main-menu"></a>
                </div>
            </div>
            <!-- // Secondary Header -->
            <h1 class="page-title ti-user-cog">تعديل بياناتي</h1>
            <form class="filter-bar form-ui align-between col-l-9 col-m-12 col-12" style="margin: auto;">
                <div class="row">
                    <!-- uplode img -->
                    <div class="col-12 col-m-6 col-l-12">
                        <label>الصورة الشخصية</label>
                        <div class="col-12 col-m-6 col-l-4">
                            <div class="advanced-uploader" style="background-size: contain;background-repeat: no-repeat;"
                                onclick="uploadImage()" data-text="يمكنك سحب وافلات الملفات هنا , اقصي حجم 75mb">
                                <input type="hidden" id="studentImage" name="StudentImage" value="">
                                <input type="file" id="imageInput">
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-m-6 col-l-4">
                        <label>الاسم</label>
                        <input value="" type="text" id="studentName" name="StudentName" >
                    </div>
                    <div class="col-12 col-m-6 col-l-4">
                        <label>كود الطالب</label>
                        <input value="" type="text" id="studentCode" name="studentCode" >
                    </div>
                    <div class="col-12 col-m-6 col-l-4">
                        <label>البريد الالكتروني</label>
                        <input value="" type="text" id="studentEmail" name="studentEmail" placeholder="- - -">
                    </div>
                    <div class="col-12 col-m-6 col-l-4">
                        <label>رقم الهاتف</label>
                        <input value="" type="text" id="studentPhone" name="studentPhone" style="direction: ltr;">
                    </div>
                    <div class="col-12 col-m-6 col-l-4">
                        <label>اسم المستخم</label>
                        <input value="" type="text" id="userNme" name="userNme" placeholder="- - -" >
                    </div>
                    <div class="col-12 col-m-6 col-l-4">
                        <label>كلمة المرور</label>
                        <input value="" type="text" id="password" name="password" placeholder="- - -">
                        <input type="submit" value="حفظ" class="btn primary block-lvl">
                    </div>
                </div>
            </form>
            <!-- // Content Side -->
        </div>
        <!-- // Site Wraper -->
        <script>
            let userID = localStorage.getItem('userID');

                document.querySelector('form').addEventListener('submit', function (event) {
                    event.preventDefault();

                    const formData = new FormData(event.target);

                    // Extract values for POST 1
                    const post1Data = {};
                    post1Data.studentName = formData.get('studentName');
                    post1Data.studentCode = formData.get('studentCode');
                    post1Data.studentEmail = formData.get('studentEmail');
                    post1Data.studentPhone = formData.get('studentPhone');
                    post1Data.studentImage = formData.get('studentImage');

                    // Add more fields as needed

                    // Extract values for POST 2
                    const post2Data = {};
                    post2Data.userNme = formData.get('userNme');
                    post2Data.password = formData.get('password');
                    // Add more fields as needed
                    // Perform POST 1
                    fetch('https://ilms.esol.dev/api/Students/' + userID, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(post1Data),
                    }).then(response => {
                        console.log('Response Status 1:', response.status);
                        return response.json();
                    }).then(data => {
                        console.log('Response Data 1:', data);
                    }).catch(error => {
                        console.error(error);
                    });

                    // Perform POST 2
                    fetch('https://ilms.esol.dev/api/Users/' + 1, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(post2Data),
                    }).then(response => {
                        console.log('Response Status 2:', response.status);
                        return response.json();
                    }).then(data => {
                        console.log('Response Data 2:', data);
                    }).catch(error => {
                        console.error(error);
                    });
                });

        </script>
        <!-- Required JS Files -->
        <script src="../js/tornado.min.js"></script>
        <script src="../js/student/profile.js"></script>
        <script src="../js/main.js" type="module"></script>
</body>

</html>